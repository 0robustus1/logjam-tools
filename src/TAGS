
importer-resources.c,1444
zhash_t* resource_to_int 4,53
char *int_to_resource[int_to_resource5,86
char *int_to_resource_sq[int_to_resource_sq6,129
char *int_to_resource_max[int_to_resource_max7,175
size_t last_resource_offset 8,222
char *time_resources[time_resources10,256
size_t last_time_resource_index 11,298
size_t last_time_resource_offset 12,335
char *other_time_resources[other_time_resources14,374
size_t last_other_time_resource_index 15,422
char *call_resources[call_resources17,466
size_t last_call_resource_index 18,508
size_t last_call_resource_offset 19,545
char *memory_resources[memory_resources21,584
size_t last_memory_resource_index 22,628
size_t last_memory_resource_offset 23,667
char *heap_resources[heap_resources25,708
size_t last_heap_resource_index 26,750
size_t last_heap_resource_offset 27,787
char *frontend_resources[frontend_resources29,826
size_t last_frontend_resource_index 30,872
size_t last_frontend_resource_offset 31,913
char *dom_resources[dom_resources33,956
size_t last_dom_resource_index 34,997
size_t last_dom_resource_offset 35,1033
size_t allocated_objects_index,37,1071
size_t allocated_objects_index, allocated_bytes_index;37,1071
size_t total_time_index,38,1126
size_t total_time_index, page_time_index,38,1126
size_t total_time_index, page_time_index, ajax_time_index;38,1126
void add_resources_of_type(41,1193
void dump_resource_maps(92,3142
void setup_resource_maps(119,4711

graylog-forwarder-subscriber.c,519
} subscriber_state_t;22,1119
} subscriber_args_t;30,1266
static subscriber_args_t* subscriber_args_new(33,1289
zsock_t* subscriber_sub_socket_new(45,1660
zsock_t* subscriber_push_socket_new(101,3686
subscriber_state_t* subscriber_state_new(111,3913
void subscriber_state_destroy(128,4500
int process_meta_information_and_handle_heartbeat(138,4759
int read_request_and_forward(169,5822
int actor_command(207,7048
void graylog_forwarder_subscriber(240,8324
zactor_t* graylog_forwarder_subscriber_new(286,9637

importer-resources.h,163
#define __LOGJAM_IMPORTER_RESOURCES_H__INCLUDED__2,50
#define MAX_RESOURCE_COUNT 11,191
static inline size_t r2i(51,1607
static inline const char* i2r(56,1719

graylog-forwarder-subscriber.h,64
#define __LOGJAM_GRAYLOG_FORWARDER_SUBSCRIBER_H_INCLUDED__2,59

importer-streaminfo.c,744
int global_total_time_import_threshold 5,95
const char* global_ignored_request_prefix 6,139
double global_sampling_rate_400s 7,189
long int global_sampling_rate_400s_threshold 8,229
zhash_t *configured_streams configured_streams11,321
zhash_t *stream_subscriptions stream_subscriptions13,396
zlist_t* get_stream_settings(17,443
void add_import_threshold_settings(47,1307
void add_ignored_request_settings(82,2725
static inline size_t str_count(93,3117
void add_backend_only_requests_settings(101,3268
void add_sampling_rate_400s_threshold_settings(130,4320
stream_info_t* stream_info_new(146,5046
void dump_stream_info(195,6487
void setup_stream_config(219,7538
#define ONE_DAY_MS 260,9115
void update_known_modules(262,9157

importer-streaminfo.h,268
#define __LOGJAM_IMPORTER_STREAM_INFO_H_INCLUDED__2,51
} module_threshold_t;13,230
} stream_info_t;35,871
#define MAX_RANDOM_VALUE 41,1080
#define TEN_PERCENT_OF_MAX_RANDOM 42,1120
#define SOFT_LIMIT_STORAGE_SIZE 45,1236
#define HARD_LIMIT_STORAGE_SIZE 46,1280

logjam-graylog-forwarder.c,372
static zconfig_t* config 14,271
static zfile_t *config_file config_file15,304
static char *config_file_name config_file_name16,340
static time_t config_file_last_modified 17,387
static char *config_file_digest config_file_digest18,432
static void print_usage(20,471
static void process_arguments(43,1806
static void config_file_init(155,5365
int main(162,5575

checker.c,108
int verbose 13,218
static void print_usage(15,236
static void process_arguments(25,510
int main(62,1624

logjam-tail.c,696
static bool verbose 4,46
static bool debug 5,75
static bool prefix 6,102
static size_t io_threads 8,131
#define DEFAULT_SUB_PORT 9,161
#define DEFAULT_CONNECTION_SPEC 10,191
static char* connection_spec 11,246
static zlist_t *topics topics13,284
static size_t processed_lines_count 15,316
static size_t processed_lines_bytes 16,357
static size_t processed_lines_max_bytes 17,398
static char *log_file_name log_file_name19,444
static FILE *log_file log_file20,479
void sighup_handler(23,517
static void setup_sighup_handler(31,668
static int timer_event(42,918
static int read_msg_and_print(60,1705
void print_usage(90,2555
void process_arguments(104,3164
int main(182,5462

importer-common.c,1060
bool dryrun 3,30
bool verbose 4,51
bool debug 5,73
bool quiet 6,93
bool send_statsd_msgs 7,113
int queued_updates 9,144
int queued_inserts 10,168
static char UTF8_DOT[UTF8_DOT13,212
static char UTF8_CURRENCY[UTF8_CURRENCY14,265
static char *URI_ESCAPED_DOT URI_ESCAPED_DOT15,316
static char *URI_ESCAPED_DOLLAR URI_ESCAPED_DOLLAR16,354
int replace_dots_and_dollars(18,396
int copy_replace_dots_and_dollars(33,656
int uri_replace_dots_and_dollars(61,1329
static char *win1252_to_utf8[win1252_to_utf890,2047
int convert_to_win1252(221,9912
zconfig_t* config 251,10653
char iso_date_today[iso_date_today252,10679
char iso_date_tomorrow[iso_date_tomorrow253,10726
time_t time_last_tick 254,10776
static zfile_t *config_file config_file256,10804
static const char *config_file_name config_file_name257,10840
static time_t config_file_last_modified 258,10884
static char *config_file_digest config_file_digest259,10929
void config_file_init(261,10968
bool config_file_has_changed(269,11219
bool config_update_date_info(281,11624

graylog-forwarder-parser.c,347
} parser_state_t;13,419
static int process_logjam_message(15,438
zsock_t* parser_pull_socket_new(66,2248
zsock_t* parser_push_socket_new(84,2751
parser_state_t* parser_state_new(100,3186
void parser_state_destroy(113,3617
void parser(125,3948
zactor_t* graylog_forwarder_parser_new(168,5335
void graylog_forwarder_parser_destroy(174,5505

importer-processor.c,3520
#define DB_PREFIX 10,250
#define DB_PREFIX_LEN 11,278
processor_state_t* processor_new(13,303
void processor_destroy(42,1296
void dump_modules_hash(58,1764
void dump_increments_hash(68,1973
void processor_dump_state(79,2284
const char* append_to_json_string(91,2647
const char* processor_setup_page(106,3153
const char* processor_setup_module(132,4080
int processor_setup_response_code(165,5124
double processor_setup_time(179,5628
const char* processor_setup_http_method(205,6664
const char* processor_setup_host(226,7276
const char* processor_setup_cluster(239,7622
const char* processor_setup_datacenter(252,7986
int extract_severity_from_lines_object(265,8368
int processor_setup_severity(288,9198
int processor_setup_minute(310,9978
void processor_setup_other_time(329,10764
void processor_setup_allocated_memory(344,11334
int processor_setup_heap_growth(364,12277
json_object* processor_setup_exceptions(376,12656
json_object* processor_setup_soft_exceptions(391,13141
void processor_add_totals(406,13632
const char *extract_agent_from_request(extract_agent_from_request420,14169
void processor_add_agent(438,14660
const char *extract_user_agent_from_request(extract_user_agent_from_request456,15239
void processor_add_user_agent(466,15487
void processor_add_minutes(485,16165
#define QUANTS_ARRAY_SIZE 500,16770
void add_quant(503,16850
static double buckets[buckets517,17311
static inline size_t find_bucket(544,18950
static inline size_t find_bucket_index(552,19101
void processor_add_quants(565,19311
void dump_histogram(604,20891
void dump_histograms(616,21206
void processor_add_histogram(628,21444
bool interesting_request(657,22495
int ignore_request(697,24097
bool throttle_request(721,24955
backend_only_request(733,25255
void ensure_chunk_can_take(752,25684
void append_line(765,26064
void append_null_byte(778,26396
  #define OP_DBL_DIGS 787,26693
    #define OP_DBL_DIGS 790,26760
    #define OP_DBL_DIGS 792,26806
void forward_request_to_prom_collector(797,26868
void processor_add_request(829,28331
char* extract_page_for_jse(917,32441
char* exctract_key_from_jse_description(939,33167
void processor_add_js_exception(952,33567
void processor_add_event(1000,35163
bool sorted_ascending(1015,35642
bool all_zero(1025,35808
void auto_correct_prefix(1040,36124
void make_relative(1052,36309
int extract_frontend_timings(1061,36457
#define NUM_TIMINGS 1113,38143
#define navigationStart 1114,38166
#define fetchStart 1119,38306
#define domainLookupStart 1120,38327
#define domainLookupEnd 1121,38355
#define connectStart 1122,38381
#define connectEnd 1123,38404
#define requestStart 1125,38461
#define responseStart 1126,38484
#define responseEnd 1127,38508
#define domLoading 1128,38530
#define domInteractive 1129,38551
#define domContentLoadedEventStart 1130,38577
#define domContentLoadedEventEnd 1131,38615
#define domComplete 1132,38651
#define loadEventStart 1133,38674
#define loadEventEnd 1134,38700
static int fe_apdex_attr_index 1136,38725
int processor_set_frontend_apdex_attribute(1137,38772
enum fe_msg_drop_reason convert_frontend_timings_to_json(1151,39077
int check_frontend_request_validity(1217,42155
void send_statsd_updates_for_page(1244,43224
static const char* str_fe_reason(1280,44504
void print_fe_drop_reason(1294,44985
enum fe_msg_drop_reason processor_add_frontend_data(1300,45181
void send_statsd_updates_for_ajax(1382,48583
enum fe_msg_drop_reason processor_add_ajax_data(1397,49075

importer-livestream.c,429
} live_stream_state_t;10,202
zsock_t* live_stream_pull_socket_new(14,234
zsock_t* live_stream_pub_socket_new(24,463
live_stream_state_t* live_stream_state_new(37,849
void live_stream_state_destroy(47,1160
zsock_t* live_stream_client_socket_new(56,1387
void live_stream_publish(65,1614
void publish_error_for_module(70,1769
int actor_command(86,2412
int read_msg_and_forward(111,3170
void live_stream_actor_fn(126,3661

graylog-forwarder-writer.c,264
} writer_state_t;10,434
static void send_graylog_message(12,453
zsock_t* writer_pull_socket_new(50,1464
zsock_t* writer_push_socket_new(60,1683
writer_state_t* writer_state_new(74,2017
void writer_state_destroy(84,2307
void graylog_forwarder_writer(94,2581

importer-common.h,1418
#define __LOGJAM_IMPORTER_COMMON_H_INCLUDED__2,46
#define MAX_SUBSCRIBERS 12,197
#define MAX_PARSERS 13,224
#define MAX_ADDERS 14,247
#define MAX_WRITERS 15,269
#define MAX_UPDATERS 16,292
#define DEFAULT_RCV_HWM 26,514
#define DEFAULT_RCV_HWM_STR 27,550
#define DEFAULT_SND_HWM 28,587
#define DEFAULT_SND_HWM_STR 29,623
#define DEFAULT_ROUTER_PORT 31,661
#define DEFAULT_PULL_PORT 32,694
#define DEFAULT_SUB_PORT 33,725
#define DEFAULT_LIVE_STREAM_PORT 34,755
#define DEFAULT_PROM_COLLECTOR_PORT 35,793
#define DEFAULT_METRICS_PORT 36,834
#define DEFAULT_REP_CONNECTION_SPEC 38,869
#define DEFAULT_PULL_CONNECTION_SPEC 39,928
#define DEFAULT_SUB_CONNECTION_SPEC 40,988
#define DEFAULT_LIVE_STREAM_CONNECTION 41,1047
#define DEFAULT_PROM_COLLECTOR_CONNECTION 42,1101
#define INVALID_DATE 54,1408
#define INVALID_MSG_AGE_THRESHOLD 58,1559
#define MAX_DATABASES 60,1601
#define DEFAULT_MONGO_URI 61,1627
#define ISO_DATE_STR_LEN 69,1793
#define USE_UNACKNOWLEDGED_WRITES 85,2384
#define USE_BACKGROUND_INDEX_BUILDS 86,2420
#define TOKU_TX_LOCK_FAILED 87,2458
#define TOKU_TX_RETRIES 88,2492
#define USE_PINGS 91,2554
#define USE_PINGS 93,2583
#define PING_INTERVAL 97,2644
#define COLLECTION_REFRESH_INTERVAL 98,2668
#define CONFIG_FILE_CHECK_INTERVAL 99,2709
#define DATABASE_INFO_REFRESH_INTERVAL 100,2747
#define DATABASE_UPDATE_INTERVAL 101,2789
#define HISTOGRAM_SIZE 104,2871

graylog-forwarder-parser.h,60
#define __LOGJAM_GRAYLOG_FORWARDER_PARSER_H_INCLUDED__2,55

importer-processor.h,82
#define __LOGJAM_IMPORTER_PROCESSOR_H_INCLUDED__2,49
} processor_state_t;21,428

importer-livestream.h,55
#define __LOGJAM_IMPORTER_LIVESTREAM_H_INCLUDED__2,50

graylog-forwarder-writer.h,60
#define __LOGJAM_GRAYLOG_FORWARDER_WRITER_H_INCLUDED__2,55

prometheus-client.h,426
#define __LOGJAM_PROMETHEUS_CLIENT_H_INCLUDED__2,48
#define IMPORTER_UPDATE_COUNT 10,167
#define IMPORTER_UPDATE_TIME 11,199
#define IMPORTER_INSERT_COUNT 12,230
#define IMPORTER_INSERT_TIME 13,262
#define IMPORTER_MSGS_RECEIVED_COUNT 14,293
#define IMPORTER_MSGS_MISSED_COUNT 15,332
#define IMPORTER_MSGS_PARSED_COUNT 16,369
#define IMPORTER_QUEUED_UPDATES_COUNT 17,406
#define IMPORTER_QUEUED_INSERTS_COUNT 18,446

prometheus-client.cpp,255
static struct prometheus_client_t 5,97
} client;26,1214
void prometheus_client_init(28,1225
void prometheus_client_shutdown(103,4273
void prometheus_client_count(109,4366
void prometheus_client_gauge(125,4885
void prometheus_client_timing(135,5151

logjam-device.c,1128
bool verbose 14,249
bool debug 15,271
bool quiet 16,291
#define DEFAULT_RCV_HWM 18,312
#define DEFAULT_SND_HWM 19,344
int rcv_hwm 21,377
int snd_hwm 22,395
static int router_port 25,434
static int pull_port 26,465
static int pub_port 27,494
static size_t received_messages_count 29,523
static size_t received_messages_bytes 30,566
static size_t received_messages_max_bytes 31,609
static size_t compressed_messages_count 33,657
static size_t compressed_messages_bytes 34,702
static size_t compressed_messages_max_bytes 35,747
static size_t io_threads 37,797
static size_t num_compressors 38,827
static msg_meta_t msg_meta 40,863
static char device_number_s[device_number_s41,909
#define MAX_COMPRESSORS 43,954
static int compression_method 44,981
static zchunk_t *compression_buffer;compression_buffer45,1029
static uint64_t global_time 46,1066
} publisher_state_t;56,1314
static int timer_event(59,1337
static int read_zmq_message_and_forward(109,3344
static int read_router_message_and_forward(187,5937
static void print_usage(239,7729
static void process_arguments(262,8999
int main(363,12286

logjam-forwarder.c,1351
bool verbose 14,245
bool quiet 15,267
bool debug 16,287
static zconfig_t* config 19,328
static zfile_t *config_file config_file20,361
static char *config_file_name config_file_name21,397
static time_t config_file_last_modified 22,444
static char *config_file_digest config_file_digest23,489
static bool config_file_exists 24,527
#define CONFIG_FILE_CHECK_INTERVAL 26,623
static int pull_port 28,662
static int downstream_port 29,691
#define DEFAULT_RCV_HWM 31,728
#define DEFAULT_SND_HWM 32,759
static int rcv_hwm 34,791
static int snd_hwm 35,816
static size_t received_messages_count 37,842
static size_t received_messages_bytes 38,885
static size_t received_messages_max_bytes 39,928
static size_t dropped_messages_count 41,976
static device_tracker_t *tracker tracker43,1019
static zlist_t *hosts hosts44,1060
static zlist_t *downstream_devices downstream_devices45,1090
static zlist_t *subscriptions subscriptions46,1133
static size_t io_threads 48,1172
static msg_meta_t msg_meta 50,1203
static uint64_t global_time 52,1250
} publisher_state_t;58,1389
static void config_file_init(61,1412
static bool config_file_has_changed(68,1622
static int timer_event(82,2094
static int read_zmq_message_and_forward(119,3498
static void print_usage(201,6158
static void process_arguments(228,7752
int main(360,12171

logjam-util.c,1509
zlist_t *split_delimited_string(split_delimited_string8,121
char* augment_zmq_connection_spec(28,547
void augment_zmq_connection_specs(53,1227
bool output_socket_ready(68,1663
uint64_t htonll(76,1924
uint64_t ntohll(88,2177
int set_thread_name(99,2423
void dump_meta_info(111,2730
void dump_meta_info_network_format(117,3037
int zmq_msg_extract_meta_info(125,3216
int frame_extract_meta_info(137,3580
int msg_extract_meta_info(149,3945
int zmsg_clear_device_and_sequence_number(160,4254
int string_to_compression_method(175,4600
const char* compression_method_to_string(189,4972
int publish_on_zmq_transport(200,5338
void compress_message_data_gzip(240,6498
void compress_message_data_snappy(269,7703
void compress_message_data(299,8962
const size_t max_buffer_size 315,9474
int decompress_frame_gzip(317,9524
int decompress_frame_snappy(341,10370
int decompress_frame(381,11564
json_object* parse_json_data(394,12047
void dump_json_object(421,13282
static void print_msg(428,13548
void my_zframe_fprint(455,14312
void my_zmsg_fprint(463,14522
void my_zmq_msg_fprint(473,14782
zmsg_savex 490,15452
zmsg_loadx 518,16274
void setup_subscriptions_for_sub_socket(561,17618
const char* my_fqdn(588,18664
void send_heartbeat(629,19691
static void test_uint64wrap 640,20013
static void test_negative_numbers_conversion_to_sizet 646,20119
static void test_gap_calc 654,20263
static void test_htonll 665,20507
static void test_my_fqdn 680,21257
void logjam_util_test 693,21571

device-tracker.c,369
bool log_gaps 5,49
} device_info_t;13,208
struct _device_tracker_t 15,226
static size_t uint64_hash(22,364
static int uint64_comparator(27,437
static void device_info_destroy(32,542
device_tracker_t* device_tracker_new(40,692
void device_tracker_destroy(64,1619
size_t device_tracker_calculate_gap(71,1795
void device_tracker_reconnect_stale_devices(120,3753

importer-watchdog.c,129
#define CREDIT 6,128
} watchdog_state_t;11,323
static int timer_event(14,345
int actor_command(29,755
void watchdog(55,1506

logjam-util.h,1038
#define __LOGJAM_UTIL_H_INCLUDED__2,35
#define zloop_ignore_interrupts(20,339
#define CONFIG_FILE_CHECK_INTERVAL 29,671
#define HEART_BEAT_INTERVAL 31,743
#define INITIAL_HEARTBEAT_CREDIT 33,811
#define NO_COMPRESSION 35,847
#define ZLIB_COMPRESSION 36,876
#define SNAPPY_COMPRESSION 37,905
#define BROTLI_COMPRESSION 39,962
#define INITIAL_COMPRESSION_BUFFER_SIZE 41,992
#define INITIAL_DECOMPRESSION_BUFFER_SIZE 42,1044
#define META_INFO_VERSION 44,1099
#define META_INFO_TAG 45,1127
#define META_INFO_EMPTY 46,1156
} msg_meta_t;56,1473
static inline void meta_info_encode(72,1837
static inline void meta_info_decode(80,2096
static inline void msg_add_meta_info(88,2351
static inline void zmsg_add_meta_info(96,2605
static inline void log_zmq_error(131,4152
void assert_x(140,4427
static inline int zmsg_addptr(148,4638
static inline void* zmsg_popptr(153,4747
static inline int zmsg_send_and_destroy(163,4995
static inline int zmsg_send_with_retry(170,5154
static inline zmsg_t* zmsg_recv_with_retry(185,5609

graylog-forwarder-controller.c,223
unsigned int num_parsers 14,359
} controller_state_t;21,514
bool controller_create_actors(25,545
void controller_destroy_actors(42,1102
int send_tick_commands(52,1359
int graylog_forwarder_run_controller_loop(66,1721

message-compressor.c,474
} compressor_state_t;28,683
#define COMPRESS 30,706
#define DECOMPRESS 31,729
zsock_t *compressor_pull_socket_new(compressor_pull_socket_new34,761
zsock_t *compressor_push_socket_new(compressor_push_socket_new44,979
compressor_state_t* compressor_state_new(54,1198
void compressor_state_destroy(67,1679
void handle_compressor_request(78,1959
void message_compressor(123,3765
zactor_t* message_compressor_new(189,5888
zactor_t* message_decompressor_new(195,6099

device-tracker.h,108
#define __LOGJAM_DEVICE_TRACKER_H_INCLUDED__2,45
typedef struct _device_tracker_t device_tracker_t;19,333

importer-watchdog.h,53
#define __LOGJAM_IMPORTER_WATCHDOG_H_INCLUDED__2,48

graylog-forwarder-controller.h,55
#define __LOGJAM_GRAYLOG_FORWARDER_CONTROLLER_H__2,50

message-compressor.h,52
#define __LOGJAM_IMPORTER_INDEXER_H_INCLUDED__2,47

prom-collector.c,451
} prom_collector_state_t;11,270
zsock_t* prom_collector_pull_socket_new(15,305
zsock_t* prom_collector_pub_socket_new(25,540
prom_collector_state_t* prom_collector_state_new(38,937
void prom_collector_state_destroy(49,1306
zsock_t* prom_collector_client_socket_new(59,1587
void prom_collector_publish(68,1820
int actor_command(74,1983
void add_sequence_number(99,2749
int read_msg_and_forward(121,3509
void prom_collector_actor_fn(138,4108

logjam-dump.c,727
FILE* dump_file 5,74
static char *dump_file_name dump_file_name6,98
static size_t io_threads 8,151
bool verbose 9,181
bool debug 10,203
bool quiet 11,223
static int sub_port 13,244
static zlist_t *connection_specs connection_specs14,270
static zlist_t *subscriptions subscriptions15,311
#define DEFAULT_SUB_PORT 17,350
static size_t received_messages_count 19,381
static size_t received_messages_bytes 20,424
static size_t received_messages_max_bytes 21,467
static size_t message_gaps 22,514
static device_tracker_t *tracker tracker24,547
static int timer_event(26,589
static int read_zmq_message_and_dump(48,1565
static void print_usage(88,2748
static void process_arguments(103,3418
int main(182,5845

str-builder.c,136
struct _str_builder 4,51
str_builder* sb_new(10,119
char *sb_string(sb_string24,393
void sb_append(29,451
void sb_destroy(48,1062

tester.c,124
#define MESSAGE_BODY_SIZE 10,154
void assert_x(12,186
struct _zmsg_t 19,321
zmsg_send_dont_wait(25,452
int main(46,953

prom-collector.h,50
#define __LOGJAM_PROM_COLLECTOR_H_INCLUDED__2,45

str-builder.h,86
#define __STR_BUILDER_H_INCLUDED__2,35
typedef struct _str_builder str_builder;4,71

test_subscriber.c,39
void assert_x(10,154
int main(17,289

importer-adder.c,272
zsock_t* adder_reply_socket_new(23,670
void merge_quants(34,916
void merge_histograms(58,1596
void merge_modules(82,2285
void merge_increments(100,2805
void merge_agents(120,3479
void merge_processors(144,4456
zmsg_t* handle_addition(173,5767
void adder(185,6060

importer-adder.h,50
#define __LOGJAM_IMPORTER_ADDER_H_INCLUDED__2,45

importer-subscriber.c,691
#define MAX_DEVICES 23,957
} subscriber_state_t;44,2523
zlist_t* extract_devices_from_config(48,2554
zsock_t* subscriber_sub_socket_new(68,3148
zsock_t* subscriber_pull_socket_new(96,4044
zsock_t* subscriber_router_socket_new(122,4951
zsock_t* subscriber_push_socket_new(142,5633
int process_meta_information_and_handle_heartbeat(153,5914
int read_request_and_forward(184,7025
int read_router_request_forward(217,8242
int actor_command(288,10606
subscriber_state_t* subscriber_state_new(329,12396
void subscriber_state_destroy(358,13499
void setup_subscriptions(373,13930
static void subscriber(380,14170
zactor_t* subscriber_new(440,15894
void subscriber_destroy(446,16069

../config.h,634
#define HAVE_DECL_HTONLL 6,209
#define HAVE_DECL_NTOHLL 10,322
#define HAVE_INTTYPES_H 13,410
#define HAVE_LIBZ 16,485
#define HAVE_MEMORY_H 19,564
#define HAVE_PTHREAD_SETNAME_NP 22,626
#define HAVE_STDINT_H 25,719
#define HAVE_STDLIB_H 28,802
#define HAVE_STRINGS_H 31,886
#define HAVE_STRING_H 34,970
#define HAVE_SYS_STAT_H 37,1055
#define HAVE_SYS_TYPES_H 40,1143
#define HAVE_UNISTD_H 43,1229
#define PACKAGE_BUGREPORT 46,1333
#define PACKAGE_NAME 49,1431
#define PACKAGE_STRING 52,1527
#define PACKAGE_TARNAME 55,1629
#define PACKAGE_URL 58,1717
#define PACKAGE_VERSION 61,1823
#define STDC_HEADERS 64,1909

logjam-logger.c,823
static bool verbose 4,46
static bool debug 5,75
static size_t io_threads 7,103
#define DEFAULT_PUB_PORT 8,133
#define DEFAULT_BIND_SPEC 9,163
static char* bind_spec 10,204
static size_t processed_lines_count 12,236
static size_t processed_lines_bytes 13,277
static size_t processed_lines_max_bytes 14,318
static char* buffer 16,364
static size_t buffer_size;17,392
#define INITIAL_BUFFER_SIZE 18,419
static bool terminating 19,454
static char *topic topic21,488
static char *app_name app_name22,513
static char* log_id 24,544
static int log_level 25,583
static int log_facility 26,616
static bool log_to_syslog 27,652
static int timer_event(29,688
static int read_line_and_forward(47,1475
void print_usage(85,2461
bool scan_syslog_param(102,3371
void process_arguments(156,5122
int main(231,7417

importer-subscriber.h,55
#define __LOGJAM_IMPORTER_SUBSCRIBER_H_INCLUDED__2,50

logjam-fhttpd.c,2257
static bool verbose 14,242
static bool debug 15,271
static bool quiet 16,298
static bool debug_compress 17,325
#define DEFAULT_RCV_HWM 19,362
#define DEFAULT_SND_HWM 20,393
#define HEART_BEAT_INTERVAL 23,461
static int rcv_hwm 25,492
static int snd_hwm 26,517
static int io_threads 28,543
static char http_response_ok 30,571
static char http_response_fail 41,917
static char http_response_alive 49,1118
static size_t ok_length,58,1332
static size_t ok_length, fail_length,58,1332
static size_t ok_length, fail_length, alive_length;58,1332
#define MAX_ID_SIZE 60,1385
#define MAX_REQUEST_SIZE 61,1409
static int http_port 63,1440
static int pub_port 64,1469
static char* capture_file_name 65,1497
static FILE* capture_file 66,1536
static void *http_socket http_socket68,1571
static void *pub_socket pub_socket69,1604
static zsock_t *http_socket_wrapper http_socket_wrapper70,1636
static zsock_t *pub_socket_wrapper pub_socket_wrapper71,1680
static size_t received_messages_count 73,1724
static size_t received_messages_bytes 74,1767
static size_t received_messages_max_bytes 75,1810
static size_t http_failures 76,1857
static size_t dropped_messages_count 77,1890
static char path_prefix_ajax[path_prefix_ajax79,1933
static char path_prefix_page[path_prefix_page80,1988
static char path_prefix_alive[path_prefix_alive81,2043
static int path_prefix_length;82,2096
static int path_prefix_alive_length;83,2127
static msg_meta_t msg_meta 85,2165
static int compression 86,2211
static zchunk_t* compression_buffer 87,2252
static zchunk_t* decompression_buffer 88,2296
} msg_data_t;98,2517
static char current_time_as_string[current_time_as_string100,2532
static void set_started_at(102,2601
static zhash_t *integer_conversions integer_conversions110,2833
static void setup_integer_conversions(112,2878
bool convert_to_integer(124,3357
const char *json_get_value(json_get_value130,3468
void parse_query(138,3702
void parse_header_line(185,4777
void init_globals(197,5148
bool extract_msg_data(241,6771
void send_logjam_message(314,8852
int process_http_request(376,11324
static int timer_event(582,19035
static void print_usage(614,20276
static void process_arguments(637,21544
int main(734,24572

importer-indexer.c,829
} indexer_state_t;33,1302
} bg_indexer_args_t;38,1391
#define INDEXER_DELAY 42,1519
zsock_t *indexer_pull_socket_new(indexer_pull_socket_new45,1551
void create_index(55,1754
void add_request_field_index(94,3485
void add_request_collection_indexes(113,4043
void add_jse_collection_indexes(123,4417
void add_metrics_collection_indexes(139,4834
int64_t extract_storage_size(172,5816
void indexer_check_disk_usage(192,6383
void indexer_refresh_storage_sizes(224,7506
void indexer_create_indexes(245,8243
void indexer_create_all_indexes(298,9973
void* create_indexes_for_date(323,10874
void spawn_bg_indexer_for_date(356,11709
void ensure_databases_are_known(370,12148
void handle_indexer_request(392,12958
indexer_state_t* indexer_state_new(417,13817
void indexer_state_destroy(434,14304
void indexer(448,14659

graylog-forwarder-common.c,310
bool dryrun 3,39
bool verbose 4,60
bool debug 5,82
bool quiet 6,102
bool compress_gelf 7,122
zlist_t *hosts hosts9,151
char *interface interface10,174
zlist_t *subscriptions subscriptions11,198
int rcv_hwm 13,230
int snd_hwm 14,248
compressed_gelf_new(18,288
void compressed_gelf_destroy(28,483

importer-indexer.h,52
#define __LOGJAM_IMPORTER_INDEXER_H_INCLUDED__2,47

logjam-pubsub-bridge.c,1511
bool verbose 15,277
bool quiet 16,299
bool debug 17,319
static zconfig_t* config 20,360
static zfile_t *config_file config_file21,393
static char *config_file_name config_file_name22,429
static time_t config_file_last_modified 23,476
static char *config_file_digest config_file_digest24,521
static bool config_file_exists 25,559
#define CONFIG_FILE_CHECK_INTERVAL 27,655
static int pull_port 29,694
static int pub_port 30,723
#define DEFAULT_RCV_HWM 32,753
#define DEFAULT_SND_HWM 33,784
static int rcv_hwm 35,816
static int snd_hwm 36,841
static size_t received_messages_count 38,867
static size_t received_messages_bytes 39,910
static size_t received_messages_max_bytes 40,953
static size_t dropped_messages_count 42,1001
static size_t decompressed_messages_count 44,1044
static size_t decompressed_messages_bytes 45,1091
static size_t decompressed_messages_max_bytes 46,1138
static device_tracker_t *tracker tracker48,1190
static zlist_t *hosts hosts49,1231
static zlist_t *subscriptions subscriptions50,1261
static size_t io_threads 52,1300
static size_t num_compressors 53,1330
static msg_meta_t msg_meta 55,1366
#define MAX_COMPRESSORS 57,1413
static uint64_t global_time 58,1440
} publisher_state_t;66,1636
static void config_file_init(69,1659
static bool config_file_has_changed(76,1869
static int timer_event(90,2341
static int read_zmq_message_and_forward(140,4606
static void print_usage(235,7905
static void process_arguments(260,9292
int main(387,13419

graylog-forwarder-common.h,318
#define __GRAYLOG_FORWARDER_COMMON_H_INCLUDED__2,48
#define DEFAULT_RCV_HWM 18,289
#define DEFAULT_RCV_HWM_STR 19,325
#define DEFAULT_SND_HWM 20,362
#define DEFAULT_SND_HWM_STR 21,398
#define DEFAULT_INTERFACE_PORT 23,436
#define DEFAULT_INTERFACE 24,472
#define MAX_PARSERS 33,640
} compressed_gelf_t;39,747

importer-increments.c,837
void dump_metrics(6,96
void dump_increments(15,376
#define METRICS_ARRAY_SIZE 26,872
increments_t* increments_new(28,953
void increments_destroy(40,1266
increments_t* increments_clone(49,1464
void increments_fill_metrics(65,2195
void increments_add_metrics_to_json(80,2695
#define NEW_INT1 92,3062
const char* increments_fill_apdex(95,3106
const char* increments_fill_frontend_apdex(115,3812
const char* increments_fill_page_apdex(136,4537
const char* increments_fill_ajax_apdex(157,5258
void increments_fill_response_code(178,5979
void increments_fill_severity(185,6225
void increments_fill_exceptions(192,6461
void increments_fill_soft_exceptions(217,7370
void increments_fill_js_exception(242,8240
void increments_fill_caller_info(253,8626
void increments_fill_sender_info(280,10041
void increments_add(307,11456

test_puller.c,39
void assert_x(10,154
int main(17,289

importer-statsupdater.c,780
} stats_updater_state_t;36,1216
} stats_collections_t;44,1429
} collection_update_callback_t;49,1532
typedef int (updater_foreach_fn)51,1565
bson_t* increments_to_bson(54,1653
int minutes_add_increments(123,4221
int totals_add_increments(173,5884
int quants_add_quants(216,7371
int histograms_add_histograms(288,9619
int agents_add_agent(368,12118
stats_collections_t *stats_collections_new(stats_collections_new445,15094
void destroy_stats_collections(461,15758
stats_collections_t *stats_updater_get_collections(stats_updater_get_collections477,16333
stats_updater_state_t* stats_updater_state_new(492,17022
void stats_updater_state_destroy(514,17746
void update_collection(528,18149
static void stats_updater(539,18438
zactor_t* stats_updater_new(679,24108

importer-increments.h,127
#define __LOGJAM_IMPORTER_INCREMENTS_H_INCLUDED__2,50
} metric_pair_t;16,300
} increments_t;24,484
} request_data_t;36,728

importer-parser.c,552
void connect_multiple(26,1016
zsock_t* parser_pull_socket_new(42,1428
zsock_t* parser_push_socket_new(63,2016
zsock_t* parser_indexer_socket_new(73,2241
zsock_t* parser_prom_collector_socket_new(84,2486
time_t valid_database_date(95,2745
processor_state_t* processor_create(128,3705
void parse_msg_and_forward_interesting_requests(187,6046
zhash_t* processor_hash_new(268,9455
parser_state_t* parser_state_new(276,9565
void parser_state_destroy(295,10322
void parser(312,10873
zactor_t* parser_new(388,13892
void parser_destroy(394,14044

logjam-replay.c,911
FILE* dump_file 4,46
static char *dump_file_name dump_file_name5,70
static size_t dump_file_size 6,122
static size_t bytes_read_from_file 7,156
static bool verbose 9,197
static bool debug 10,226
static size_t io_threads 12,254
static char *connection_spec connection_spec13,284
static int socket_type 14,321
#define DEFAULT_CONNECTION_PORT_PUB 16,356
#define DEFAULT_CONNECTION_SPEC_PUB 17,397
#define DEFAULT_CONNECTION_PORT_DEALER 18,448
#define DEFAULT_CONNECTION_SPEC_DEALER 19,492
static bool endless_loop 21,555
static int messages_per_second 22,589
static int message_credit 23,630
static size_t replayed_messages_count 25,668
static size_t replayed_messages_bytes 26,711
static size_t replayed_messages_max_bytes 27,754
static int timer_event(29,802
static int file_consume_message_and_forward(47,1611
void print_usage(88,2728
void process_arguments(103,3413
int main(183,5967

importer-statsupdater.h,58
#define __LOGJAM_IMPORTER_STATS_UPDATER_H_INCLUDED__2,53

importer-tracker.c,787
struct _uuid_tracker_t 22,673
} tracker_state_t;45,2087
} failure_t;51,2193
uuid_tracker_t* tracker_new(55,2237
void tracker_destroy(77,2904
int tracker_add_uuid(87,3170
int tracker_delete_uuid(94,3412
#define EXPIRE_THRESHOLD_1MINUTE 120,4069
#define EXPIRE_THRESHOLD_5MINUTES 121,4118
#define EXPIRE_THRESHOLD_MS 122,4168
void tracker_state_set_time_params(126,4316
tracker_state_t* tracker_state_new(134,4534
void tracker_state_destroy(166,5372
void clean_expired_uuids(180,5743
void clean_expired_failures(198,6263
void clean_expired_successes(218,6886
void server_clean_expired_items(235,7421
int server_add_uuid(245,7705
int server_delete_uuid(278,8876
void tracker_tick(318,10362
int actor_command(336,10997
int timer_event(361,11719
void tracker(369,11905

logjam-message.c,336
const char *LOG_LEVELS_NAMES[LOG_LEVELS_NAMES8,140
const int SYSLOG_MAPPING[SYSLOG_MAPPING17,257
struct _logjam_message 26,408
static inline void str_normalize(31,479
size_t logjam_message_size(40,640
logjam_message* logjam_message_read(45,715
gelf_message* logjam_message_to_gelf(92,1835
void logjam_message_destroy(258,7818

statsd-client.c,760
struct _statsd_client_t 4,57
#define BUFFER_SIZE 10,289
} statsd_server_state_t;24,1077
statsd_client_t* statsd_client_new(27,1104
void statsd_client_destroy(52,1757
int send_update(62,1964
int statsd_client_increment(75,2368
int statsd_client_decrement(80,2480
int statsd_client_count(85,2593
int statsd_client_gauge(90,2719
int statsd_client_timing(95,2841
void setup_statsd_udp_socket_and_sever_address(103,2988
statsd_server_state_t* statsd_server_state_new(153,4778
void statsd_server_state_destroy(172,5269
void server_print_buffer(184,5529
void server_flush_buffer(204,6041
int server_append_to_buffer(218,6495
int server_add_update(236,7054
void statsd_server_tick(256,7584
int actor_command(268,7946
void statsd_actor_fn(292,8653

zring.c,257
typedef struct _node_t 4,38
} node_t;7,94
struct _zring_t 9,105
zring_new 15,177
zring_destroy 32,517
zring_insert 45,759
zring_lookup 70,1239
zring_shift 86,1555
zring_delete 99,1748
zring_size 123,2224
zring_first 130,2319
zring_test 139,2489

importer-parser.h,414
#define __LOGJAM_IMPORTER_PARSER_H_INCLUDED__2,46
#define FE_MSG_OUTLIER_THRESHOLD_MS 14,343
enum fe_msg_drop_reason 16,386
    FE_MSG_ACCEPTED 17,412
    FE_MSG_OUTLIER 18,476
    FE_MSG_NAV_TIMING 19,556
    FE_MSG_ILLEGAL 20,632
    FE_MSG_CORRUPTED 21,695
    FE_MSG_INVALID 22,748
#define FE_MSG_NUM_REASONS 24,815
} frontend_stats_t;30,1096
} user_agent_stats_t;37,1454
} parser_state_t;55,1899

importer-tracker.h,106
#define __LOGJAM_IMPORTER_TRACKER_H_INCLUDED__2,47
typedef struct _uuid_tracker_t uuid_tracker_t;10,165

logjam-message.h,96
#define __LOGJAM_MESSAGE_H_INCLUDED__2,38
typedef struct _logjam_message logjam_message;7,122

statsd-client.h,105
#define __LOGJAM_STATSD_CLIENT_H_INCLUDED__2,44
typedef struct _statsd_client_t statsd_client_t;10,159

zring.h,72
#define __ZRING_H_INCLUDED__2,29
typedef struct _zring_t zring_t;8,99

test_publisher.c,83
void assert_x(10,154
int timer_event(17,289
int forward(32,684
int main(43,882

importer-requestwriter.c,1000
} request_writer_state_t;37,1215
zsock_t* request_writer_pull_socket_new(41,1250
mongoc_collection_t* request_writer_get_request_collection(51,1478
mongoc_collection_t* request_writer_get_metrics_collection(67,2273
mongoc_collection_t* request_writer_get_jse_collection(82,3002
mongoc_collection_t* request_writer_get_events_collection(98,3777
int bson_append_win1252(113,4500
void json_key_to_bson_key(126,4866
void json_object_to_bson(193,7220
bool json_object_is_zero(201,7403
bson_t* convert_metrics_for_indexing(214,7718
void add_metrics_to_metrics_collection(249,9236
json_object* store_request(302,11289
void store_js_exception(390,14668
void store_event(419,15854
json_object* extract_error_description(479,18110
void request_writer_publish_error(506,19025
void handle_request_msg(556,21074
request_writer_state_t* request_writer_state_new(608,22947
void request_writer_state_destroy(629,23761
static void request_writer(647,24407
zactor_t* request_writer_new(738,28301

importer-mongoutils.c,307
size_t num_databases 3,34
const char *databases[databases4,60
mongoc_write_concern_t *wc_no_wait wc_no_wait6,99
mongoc_write_concern_t *wc_wait wc_wait7,142
void my_mongo_log_handler(10,190
void initialize_mongo_db_globals(42,953
void ensure_known_database(79,2208
int mongo_client_ping(111,3422

gelf-message.c,267
gelf_message* gelf_message_new(3,27
void gelf_message_add_string(13,431
void gelf_message_add_double(19,635
void gelf_message_add_int(25,834
void gelf_message_add_json_object(31,1024
const char* gelf_message_to_string(39,1311
void gelf_message_destroy(45,1494

logjam-importer.c,975
int snd_hwm 9,215
int rcv_hwm 10,233
int pull_port 11,251
int router_port 12,271
int sub_port 13,293
int metrics_port 14,312
char metrics_address[metrics_address15,335
char* live_stream_connection_spec 16,368
char* prom_collector_connection_spec 17,410
const char *metrics_ip metrics_ip18,455
zlist_t *hosts hosts19,493
static const char *subscription_pattern subscription_pattern21,517
static const char *config_file_name config_file_name22,565
FILE* frontend_timings 24,619
static char *frontend_timings_file_name frontend_timings_file_name25,650
static char *frontend_timings_apdex_attr frontend_timings_apdex_attr26,698
static char* num_subscribers_arg_value 28,748
static char* num_parsers_arg_value 29,795
static char* num_updaters_arg_value 30,838
static char* num_writers_arg_value 31,882
static size_t io_threads 32,925
static void setup_thread_counts(34,956
void print_usage(57,1913
void process_arguments(92,4116
int main(284,10555

importer-requestwriter.h,59
#define __LOGJAM_IMPORTER_REQUEST_WRITER_H_INCLUDED__2,54

importer-controller.c,723
unsigned long num_subscribers 45,1698
unsigned long num_parsers 46,1733
unsigned long num_writers 47,1764
unsigned long num_updaters 48,1796
unsigned long num_adders 49,1829
} controller_state_t;71,2460
void extract_parser_state(75,2491
void publish_totals(90,3099
void publish_totals_for_every_known_stream(130,4991
void merge_processors(157,6032
void forward_updates(192,7142
int collect_stats_and_forward(277,10585
bool controller_create_actors(412,15913
void controller_destroy_actors(472,17960
#define MAX_ALLOWED_SHUTDOWN_TIME_SECONDS 532,19993
static void alarm_handler(534,20039
static int start_shutdown_timer(540,20203
static int stop_shutdown_timer(560,20725
int run_controller_loop(571,20962

importer-mongoutils.h,56
#define __LOGJAM_IMPORTER_MONGO_UTILS_H_INCLUDED__2,51

gelf-message.h,206
#define __GELF_MESSAGE_H_INCLUDED__2,36
#define gelf_message_add_full_message(6,99
#define gelf_message_add_timestamp(7,188
#define gelf_message_add_level(8,271
typedef json_object gelf_message;10,344

importer-controller.h,46
#define __LOGJAM_IMPORTER_CONTROLLER_H__2,41
